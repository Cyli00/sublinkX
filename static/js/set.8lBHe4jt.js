import{d as e,ay as a,r as s,aC as t,o as l,m as r,e as u,w as o,$ as n,a4 as m,l as d,t as p,c$ as i,a5 as c,a6 as v,a7 as f,aB as _,aK as x,d0 as g}from"./index.BQLDJCDE.js";import{E as w}from"./el-card.CTX5lC-5.js";import{E as h,a as j}from"./el-col.DXX01BAs.js";import{E as y}from"./el-image-viewer.XmtafYDI.js";import{_ as V}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./index.DNViV2ks.js";import"./debounce.7DwFOk0p.js";import"./position.Djig22UR.js";const $=V(e({__name:"set",setup(e){const{t:V}=a(),$=s(),B=t();l((async()=>{$.value=await B.getUserInfo()}));const C=s(""),E=s("");function U(e){C.value&&E.value?E.value.length<6?_.error(V("userset.message.xx2")):x.confirm(V("userset.message.xx3"),V("userset.message.title"),{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((()=>{g({username:C.value.trim(),password:E.value.trim()}).then((()=>{_.success(V("userset.message.xx4")+E.value),window.location.reload()}))})):_.error(V("userset.message.xx1"))}return(e,a)=>{const s=j,t=y,l=i,_=c,x=v,g=h,V=w;return u(),r(V,{style:{margin:"10px","text-align":"center"}},{default:o((()=>[n(g,{gutter:20},{default:o((()=>[n(s,{span:18},{default:o((()=>[d("h2",null,p(e.$t("userset.title")),1)])),_:1}),$.value?(u(),r(s,{key:0,span:18},{default:o((()=>[n(l,{value:$.value.username,class:"item"},{default:o((()=>[n(t,{src:$.value.avatar},null,8,["src"])])),_:1},8,["value"])])),_:1})):m("",!0),n(s,{span:18},{default:o((()=>[n(_,{modelValue:C.value,"onUpdate:modelValue":a[0]||(a[0]=e=>C.value=e),placeholder:e.$t("userset.newUsername")},null,8,["modelValue","placeholder"])])),_:1}),n(s,{span:18},{default:o((()=>[n(_,{type:"password",modelValue:E.value,"onUpdate:modelValue":a[1]||(a[1]=e=>E.value=e),"show-password":"",placeholder:e.$t("userset.newPassword")},null,8,["modelValue","placeholder"])])),_:1}),n(s,{span:18},{default:o((()=>[n(x,{type:"primary",onClick:U},{default:o((()=>a[2]||(a[2]=[f("修改")]))),_:1,__:[2]})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-16b2b0c0"]]);export{$ as default};
